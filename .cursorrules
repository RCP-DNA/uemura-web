# Cursor Rules for Uemura Web Project

## プロジェクト概要
綾瀬うえむら眼科のWebサイトプロジェクトです。
静的なHTML/CSS/JavaScriptで構成されています。

## プロジェクト構造
- `index.html` - メインページ
- `common/` - 共通リソース（CSS、画像）
- `equipment/` - 設備紹介ページ
- `hakunaisho/` - 白内障関連ページ
- `oltho/` - オルソケラトロジー関連ページ
- `js/slick/` - Slickスライダーライブラリ

## 注意事項
- 共通設定ファイルの自動検出とByteRover連携は、グローバルルール（`~/.cursor/rules/`）で管理されています

## ByteRover自動接続テスト

### エージェントの自動テスト実行
以下のタイミングで、エージェントは**必ず自動的に**ByteRoverとの接続をテストし、結果をユーザーに表示する必要があります：

1. **Cursorを再起動した時** - 新しいセッション開始時
2. **このプロジェクトを開いた時** - プロジェクトを開いた直後
3. **長時間（数時間以上）エージェント利用が途絶えた時** - セッション再開時

### テスト手順
エージェントは以下の手順を自動的に実行します：

1. `mcp_byterover-mcp_byterover-retrieve-knowledge`ツールを使用して、簡単なテストクエリ（例：`"test connection"`）を実行
2. 結果を確認：
   - **成功時**: 「ByteRoverとの接続は正常です」と表示し、取得できた知識の件数を表示
   - **失敗時（認証エラー）**: 「ByteRoverへの認証が必要です。グローバルルール（`~/.cursor/rules/byterover-auth.mdc`）の認証手順を実行してください」と表示し、認証URLと手順を提示
3. テスト結果をユーザーに明確に表示する

### 実装例
```markdown
**ByteRover接続テスト結果:**
✅ 接続成功 - 知識の取得が可能です（X件の知識を取得）
または
❌ 接続失敗 - 認証が必要です。認証手順を実行してください
```

この自動テストにより、ByteRoverの接続状態を常に把握でき、問題があれば早期に発見できます。

